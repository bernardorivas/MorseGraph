# ==============================================================================
# Leslie Population Model (3D) - Test Configuration
# ==============================================================================
#
# This is a "toy" configuration for testing the pipeline flow.
# It uses reduced data, fewer epochs, and coarser grids to run quickly.
# Use this to verify that data is being computed, saved, and plotted correctly.

# System metadata
system:
  name: "leslie_map_3d"
  type: "map"
  description: "Toy configuration for testing pipeline flow"
  reference: "Leslie (1945)"

# Leslie model parameters
dynamics:
  theta_1: 28.9
  theta_2: 29.8
  theta_3: 22.0
  survival_1: 0.7
  survival_2: 0.7

# Computational domain
domain:
  bounds: [[0.0, 0.0, 0.0], [120.0, 80.0, 60.0]]

# 3D CMGDB parameters for original space (Coarse for speed)
cmgdb_3d:
  subdiv_min: 18      
  subdiv_max: 18
  subdiv_init: 0
  subdiv_limit: 10000
  padding: false

# 2D CMGDB parameters for latent space (Coarse for speed)
cmgdb_2d:
  subdiv_min: 10
  subdiv_max: 10
  subdiv_init: 0
  subdiv_limit: 10000
  padding: true
  bounds_padding: 1.01
  original_grid_subdiv: 10
  method: "data"

# Training data generation (Reduced data)
training:
  n_trajectories: 500   # 10% of default 5000
  n_points: 20
  skip_initial: 0
  random_seed: 42

  # Neural network training (Minimal epochs)
  num_epochs: 10        # Just to check if it runs
  batch_size: 32
  learning_rate: 0.001
  early_stopping_patience: 5
  min_delta: 1.0e-5

# Neural network architecture (Smaller model)
model:
  input_dim: 3
  latent_dim: 2
  hidden_dim: 16
  num_layers: 2
  encoder_activation: null
  decoder_activation: null
  latent_dynamics_activation: null

# Loss function configuration
loss_weights:
  w_recon: 1.0
  w_dyn_recon: 1.0
  w_dyn_cons: 1.0

# Visualization settings
visualization:
  n_grid_points: 20
