# Ives Ecological Model (3D Map) - Default Configuration
# Reference: Ives et al. (2008) "High-amplitude fluctuations and alternative
#            dynamical states of midges in Lake Myvatn", Nature 452: 84-87

system:
  name: "ives_model_log"
  type: "map"
  description: "Midge-Algae-Detritus dynamics in log10 scale"
  reference: "Ives et al. (2008), Nature 452: 84-87"

# System parameters (log10 scale)
dynamics:
  r1: 3.873           # Midge reproduction rate
  r2: 11.746          # Algae growth rate
  c: 3.67e-07         # Constant input of algae and detritus
  d: 0.5517           # Detritus decay rate
  p: 0.06659          # Relative palatability of detritus
  q: 0.9026           # Exponent in midge consumption
  log_offset: 0.00    # Offset for log transform

# Computational domain (log10 scale)
domain:
  bounds: [[-2.5, -7.0, -2.5], [1.5, 1.5, 1.5]]
  equilibrium: [0.792107, 0.209010, 0.376449]
  period_12_orbit:
    - [0.39160862, 0.91157773, 1.04565088]
    - [0.88385738, 0.53734751, 1.13513858]
    - [1.07430764, -6.43509285, 0.92947376]
    - [0.45130625, -5.54559063, 0.27018157]
    - [-0.20292393, -4.71170433, -0.39687693]
    - [-0.86801275, -3.88600855, -1.06627693]
    - [-1.52871692, -3.06107992, -1.73180035]
    - [-2.00400249, -2.21426366, -2.27701846]
    - [-1.78041095, -1.25478013, -2.09052584]
    - [-1.29374168, -0.24533912, -1.22475073]
    - [-0.73907562, 0.61025016, -0.22181353]
    - [-0.16807606, 0.94248423, 0.64356429]

# 3D grid parameters (original space)
cmgdb_3d:
  subdiv_min: 30          # Minimum subdivision depth
  subdiv_max: 33          # Maximum subdivision depth
  subdiv_init: 0          # Initial subdivision depth
  subdiv_limit: 10000     # Maximum number of boxes during refinement
  padding: false          # Boundary padding enabled

# 2D grid parameters (latent space)
cmgdb_2d:
  subdiv_min: 20          # Minimum subdivision depth
  subdiv_max: 20          # Maximum subdivision depth
  subdiv_init: 0          # Initial subdivision depth
  subdiv_limit: 100000    # Maximum number of boxes during refinement
  padding: true           # Boundary padding enabled
  bounds_padding: 1.01    # Bounding box expansion factor
  original_grid_subdiv: 18 # Original space grid subdivision for point sampling
  method: "restricted"    # 2D Morse graph method (data, restricted, enclosure)

# Training data generation
training:
  n_trajectories: 5000    # Number of trajectories to generate
  n_points: 20            # Points per trajectory
  skip_initial: 0         # Initial transient points to skip
  random_seed: 42         # Reproducibility seed
  num_epochs: 1500        # Maximum training epochs
  batch_size: 1024        # Training batch size
  learning_rate: 0.001    # Optimizer learning rate
  early_stopping_patience: 50   # Epochs without improvement before stopping
  min_delta: 1.0e-5       # Minimum loss improvement threshold

# Neural network architecture
model:
  input_dim: 3            # Input space dimension
  latent_dim: 2           # Latent space dimension
  hidden_dim: 32          # Hidden layer dimension
  num_layers: 3           # Number of hidden layers
  encoder_activation: null      # Encoder activation function
  decoder_activation: null      # Decoder activation function
  latent_dynamics_activation: null  # Latent dynamics activation function

# Loss function weights
loss_weights:
  w_recon: 500.0          # Reconstruction loss weight
  w_dyn_recon: 1.0        # Dynamics reconstruction loss weight
  w_dyn_cons: 1.0         # Dynamics consistency loss weight

# Visualization
visualization:
  n_grid_points: 50       # Grid resolution for visualization
